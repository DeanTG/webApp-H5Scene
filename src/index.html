<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no"/>
    <meta name="format-detection" content="telephone=no" />
    <meta name="format-detection" content="email=no" />
    <meta name="format-detection" content="address=no" />
    <title>组件式开发－H5场景动画</title>
    <script type="text/javascript" src="http://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript" src="http://cdn.bootcss.com/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/lib/jquery.fullPage.js"></script>
</head>
<body>

    <!-- <div id="pageContainer" class="">
        <section class="section page" id="page1">
            <div class="component">logo</div>
        </section>
        <section class="section page" id="page2">
            <div class="component">bar</div>
        </section>
        <section class="section page" id="page3">
            <div class="component">desc</div>
        </section>
    </div> -->


<link rel="stylesheet" href="css/H5ComponentBase.css">
<link rel="stylesheet" href="css/H5ComponentPoint.css">
<link rel="stylesheet" href="css/H5ComponentBar.css">
<link rel="stylesheet" href="css/H5.css">
<script src="js/H5ComponentBase.js"></script>
<script src="js/H5ComponentPoint.js"></script>
<script src="js/H5ComponentBar.js"></script>
<script src="js/H5.js"></script>
<script>
    $(function () {
        // var pageContainer = $('#pageContainer'),
        //     page = $('.page'),
        //     component = $('.component');

        // pageContainer.fullpage({
        //     onLeave: function (index, nextIndex, direction) {
        //         pageContainer.find('.page').eq(index-1).trigger('onLeave');
        //     },
        //     afterLoad: function (anchorLink, index) {
        //         pageContainer.find('.page').eq(index-1).trigger('onLoad');
        //     }
        // });

        // page.on('onLeave', function() {
        //     console.log( $(this).attr('id') + " is left" );
        //     $(this).find('.h5_component').trigger('onLeave');            
        // });
        // page.on('onLoad', function() {
        //     console.log( $(this).attr('id') + " is loading" );
        //     $(this).find('.h5_component').trigger('onLoad'); 
        // });

        // component.on('onLeave', function() {
        //     $(this).fadeOut();
        //     return false;//阻止事件向上冒泡触发page的onleave事件，可return false 或page使用triggerhandle       
        // });
        // component.on('onLoad', function() {
        //     $(this).fadeIn();
        //     return false;  
        // });

        // var cfg = {
        //     type: "base",
        //     // text: "文本",
        //     bg: "images/p1_people.png",
        //     width: "514",
        //     height: "206",
        //     css: {
        //         left: 50,
        //         top: 50,
        //         opacity: 0
        //     },
        //     animateIn: {
        //         top: 50,
        //         opacity: 1
        //     },
        //     animateOut: {
        //         top: 150,
        //         opacity: 0
        //     },
        //     center: true
        // };
        // var h5Component = new H5ComponentBase( 'myname', cfg );
        //$('#page1').append(h5);

        var h5 = new H5();
        h5.whenAddPage = function () {
            this.addComponent("footer", {
                "bg": "./images/footer.png",
                "css": {
                    "width": "100%",
                    "height": 20,
                    "bottom": -20,
                    "zIndex": 999,
                    "opacity": 0
                },
                "animateIn": {
                    "bottom": 0,
                    "opacity": 1
                },
                "animateOut": {
                    "bottom": -20,
                    "opacity": 0
                },
                "delay": 1000
            });
        }
        h5
        .addPage("face")
            .addComponent("logo", {
                "type": "base",
                "width": 395,
                "height": 130,
                "bg": "./images/face_logo.png",
                "css": {
                    "opacity": 0
                },
                "animateIn": {
                    "top": 100,
                    "opacity": 1
                },
                "animateOut": {
                    "top": 0,
                    "opacity": 0
                },
                "center": true
            })
            .addComponent("slogan", {
                "type": "base",
                "width": 365,
                "height": 99,
                "bg": "./images/face_slogan.png",
                "css": {
                    "top": 180,
                    "opacity": 0
                },
                "animateIn": {
                    "opacity": 1
                },
                "animateOut": {
                    "opacity": 0
                },
                "delay": 500,
                "center": true
            })
            .addComponent("face_leftImg", {
                "type": "base",
                "width": 370,
                "height": 493,
                "bg": "./images/face_img_left.png",
                "css": {
                    "left": -50,
                    "bottom": -50,
                    "opacity": 0
                },
                "animateIn": {
                    "left": 0,
                    "bottom": 0,
                    "opacity": 1
                },
                "animateOut": {
                    "left": -50,
                    "bottom": -50,
                    "opacity": 0
                },
                "delay": 1000
            })
            .addComponent("face_rightImg", {
                "type": "base",
                "width": 276,
                "height": 449,
                "bg": "./images/face_img_right.png",
                "css": {
                    "right": -50,
                    "bottom": -50,
                    "opacity": 0
                },
                "animateIn": {
                    "right": 0,
                    "bottom": 0,
                    "opacity": 1
                },
                "animateOut": {
                    "right": -50,
                    "bottom": -50,
                    "opacity": 0
                },
                "delay": 1000
            })
        .addPage("point")
            .addComponent("title",{"text": "散点图展示"})
            .addComponent("point", {
                "type": "point",
                "width": 300,
                "height": 300,
                "data": [
                    ["A项", 0.4, "green"],
                    ["B项", 0.3, "blue", "-40%", "-80%"],
                    ["C项", 0.2, "red", "30%", "120%"]
                ],
                "css": {
                    "top": "50%"
                },
                "center": true
            })
        .addPage("bar")
            .addComponent("title",{"text": "柱状图展示"})
            .addComponent("bar", {
                "type": "bar",
                "width": 530,
                "height": 600,
                "data": [
                    ["javascript", 0.6, "#ff7676"],
                    ["nodejs", 0.3],
                    ["vue", 0.4],
                    ["html/css", 0.2]
                ],
                "css": {
                    "top": "30%"
                },
                "center": true
            })
        .addPage("tail")
            .addComponent("logo", {
                "type": "base",
                "width": 359,
                "height": 129,
                "bg": "./images/tail_logo.png",
                "css": {
                    "top": 180,
                    "opacity": 0
                },
                "animateIn": {
                    "top": 210,
                    "opacity": 1
                },
                "animateOut": {
                    "top": 180,
                    "opacity": 0
                },
                "center": true
            })
            .addComponent("slogan", {
                "type": "base",
                "width": 314,
                "height": 46,
                "bg": "./images/tail_slogan.png",
                "css": {
                    "top": 280,
                    "opacity": 0
                },
                "animateIn": {
                    "left": "50%",
                    "opacity": 1
                },
                "animateOut": {
                    "left": "0%",
                    "opacity": 0
                },
                "delay": 500,
                "center": true
            })
            .addComponent("share", {
                "type": "base",
                "width": 128,
                "height": 120,
                "bg": "./images/tail_share.png",
                "css": {
                    "top": 30,
                    "right": 30,
                    "opacity": 0
                },
                "animateIn": {
                    "top": 10,
                    "right": 10,
                    "opacity": 1
                },
                "animateOut": {
                    "top": 30,
                    "right": 30,
                    "opacity": 0
                },
                "delay": 1000
            })
            .addComponent("back", {
                "type": "base",
                "width": 52,
                "height": 50,
                "bg": "./images/tail_back.png",
                "css": {
                    "opacity": 0
                },
                "animateIn": {
                    "opacity": 1
                },
                "animateOut": {
                    "opacity": 0
                },
                "delay": 1500,
                "center": true
            })
        .loader();

    })
</script>
</body>
</html>
     